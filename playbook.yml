# Provision dev environment
---
- name: install development environment
  hosts: all
  become: true

  vars_files:
     - personalize.yml

  pre_tasks:
    - name: set proper locale #https://www.shellhacks.com/linux-define-locale-language-settings/
      command: localectl set-locale LANG=en_US.utf8

  roles:
    - development
    #https://github.com/ansiblebit/oracle-java
    #- { role: ansiblebit.oracle-java,
    #   oracle_java_version: 6,
    #   oracle_java_set_as_default: false }
    #- { role: ansiblebit.oracle-java,
    #   oracle_java_version: 7,
    #   oracle_java_set_as_default: false }
    #- { role: ansiblebit.oracle-java,
    #   oracle_java_version: 8 }
    #https://github.com/gantsign/ansible-role-maven
    - { role: gantsign.maven }
    #https://github.com/gantsign/ansible-role-intellij
    - role: gantsign.intellij
      intellij_default_maven_home: '{{ ansible_local.maven.general.home }}' #generated by gantsign.maven
      intellij_default_jdk_home: '/usr/lib/jvm/java-8-openjdk-amd64'
      users:
        - username: vagrant
          intellij_jdks:
            - name: '1.8'
              home: '/usr/lib/jvm/java-8-openjdk-amd64/'
          intellij_default_jdk: '1.8'
          #intellij_disabled_plugins:
            #- org.jetbrains.plugins.gradle
            #- CVS
            #- com.intellij.uiDesigner
            #- org.jetbrains.android
            #- TestNG-J
            #- hg4idea
            #- Subversion
            #- AntSupport
            #- DevKit
          #intellij_codestyles:
            #- name: GoogleStyle
              #url: 'https://raw.githubusercontent.com/google/styleguide/gh-pages/intellij-java-google-style.xml'
          #intellij_active_codestyle: GoogleStyle
          #intellij_plugins:
            #- CheckStyle-IDEA
    - gnome_gui




# - name: Update repositories cache and install "supervisor" package
#  apt:
#    name: supervisor
#- name: Ensure supervisor launches on boot
#  become: yes
#  command: systemctl enable supervisor